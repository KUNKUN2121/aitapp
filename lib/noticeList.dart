import 'package:flutter/material.dart';

class notice {
  notice(this.sender, this.title, this.content, this.sendAt);
  // 発信者
  final String sender;
  // タイトル
  final String title;
  // 内容
  final String content;
  // 送信日時
  final String sendAt;
}

final models = [
  notice(
    'こんにちは',
    'テストテストテストテストテストテストテストテストテスト',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/11/03',
  ),
  notice(
    'こんにちは',
    'テストテストテストテストテストテストテストテストテストテストテストテスト',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/10/24',
  ),
  notice(
    'yohei',
    'こんにちは',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/11/03',
  ),
  notice(
    'yohei',
    'こんにちは',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/11/03',
  ),
  notice(
    'yohei',
    'こんにちは',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/11/03',
  ),
  notice(
    'yohei',
    'こんにちは',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/11/03',
  ),
  notice(
    'yohei',
    'こんにちは',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/11/03',
  ),
  notice(
    'yohei',
    'こんにちは',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/11/03',
  ),
  notice(
    'yohei',
    'こんにちは',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/11/03',
  ),
  notice(
    'yohei',
    'こんにちは',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/11/03',
  ),
  notice(
    'yohei',
    'こんにちは',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/11/03',
  ),
  notice(
    'yohei',
    'こんにちは',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/11/03',
  ),
  notice(
    'yohei',
    'こんにちは',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/11/03',
  ),
  notice(
    'yohei',
    'こんにちは',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/11/03',
  ),
  notice(
    'yohei',
    'こんにちは',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/11/03',
  ),
  notice(
    'yohei',
    'こんにちは',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/11/03',
  ),
  notice(
    'yohei',
    'こんにちは',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/11/03',
  ),
  notice(
    'yohei',
    'こんにちは',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/11/03',
  ),
  notice(
    'yohei',
    'こんにちは',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/11/03',
  ),
  notice(
    'yohei',
    'こんにちは',
    'ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ',
    '2023/11/03',
  ),
];

Widget modelToWidget(notice model) {
  final title = Container(
    // color: Colors.purple[200],
    padding: const EdgeInsets.fromLTRB(10, 8, 10, 4),
    alignment: Alignment.centerLeft,
    child: Text(
      model.title,
      style: const TextStyle(fontWeight: FontWeight.bold),
    ),
  );
  final content = Container(
    // color: Colors.green[200],
    padding: const EdgeInsets.fromLTRB(10, 4, 10, 4),
    alignment: Alignment.centerLeft,
    child: Text(model.content),
  );
  final sender = Container(
    // color: Colors.red[200],
    padding: const EdgeInsets.fromLTRB(10, 4, 10, 8),
    alignment: Alignment.centerLeft,
    child: Row(
      mainAxisAlignment: MainAxisAlignment.spaceBetween,
      children: [Text(model.sender), Text(model.sendAt)],
    ),
  );
  return Container(
    // decoration: BoxDecoration(
    //     border: Border.all(color: Colors.grey),
    //     borderRadius: BorderRadius.circular(8)),
    // color: Colors.blue[200],
    // padding: EdgeInsets.all(2),
    child: Column(
      mainAxisSize: MainAxisSize.min,
      children: [
        title,
        content,
        sender,
        Divider(
          thickness: 1,
        ),
      ],
    ),
  );
}

class noticeList extends StatelessWidget {
  const noticeList({super.key});

  @override
  Widget build(BuildContext context) {
    final textField = Container(
      padding: EdgeInsets.all(16),
      child: TextField(
        decoration: InputDecoration(
          prefixIcon: const Icon(Icons.search),
          // fillColor: Color.fromARGB(255, 233, 233, 233),
          filled: true,
          // border: InputBorder.none,
          border: OutlineInputBorder(
            borderRadius: BorderRadius.circular(10),
            borderSide: BorderSide.none,
          ),
          // labelText: 'あなたの名前',
          hintText: '送信元、キーワードで検索',
        ),
      ),
    );
    final list = ListView.builder(
      itemCount: models.length,
      itemBuilder: (c, i) => modelToWidget(models[i]),
    );
    final tabScreen = Column(
      children: [textField, Expanded(child: list)],
    );

    return DefaultTabController(
      length: 2,
      child: Scaffold(
        body: TabBarView(children: [tabScreen, tabScreen]),
        appBar: AppBar(
          // backgroundColor: Colors.white,
          centerTitle: true,
          title: const Text(
            'お知らせ',
            // style: TextStyle(color: Colors.black),
          ),
          bottom: const TabBar(
            tabs: [
              Tab(
                text: '学内',
              ),
              Tab(
                text: '授業',
              ),
            ],
            labelColor: Colors.black,
          ),
        ),
      ),
    );
  }
}
